<div class="treeItemHeading"
    (click)="expanded=!expanded">
  <div 
    [ngClass]="{
      'treeItemExpand':true,
      'expanded':(hasChildren$ | async) && expanded,
      'collapsed':(hasChildren$ | async) && !expanded
    }" >
  </div>
  <div 
      [ngClass]="{
        'treeItemTitle':true,
        'isModifier':attributes.isModifier.value
      }" 
      (click)="onSelect();$event.stopPropagation();">
    <div 
        class="treeItemTitleLabel"
        [ngStyle]="{
          'text-decoration':style['text-decoration'] || 'none' 
        }">{{attributes.label.value}}</div>
    <ng-container *ngFor="let icon of getIcons()">
      <div 
        [ngClass]="{
          'icon': true,
          'iconDot': icon.type == 'dot',
          'imgIcon': icon.type == 'imgIcon',
          'smallImgIcon': icon.type == 'smallImgIcon',
          'chip': icon.type == 'chip'
        }"
        [matTooltip]="icon.description?icon.description.replace('COUNTER',getBubbleIconCounter(icon)?getBubbleIconCounter(icon):''):undefined"
        [ngStyle]="{ 'background-color': icon['background-color'], 'color': icon['color'] }">
          <div class="counter">{{getBubbleIconCounter(icon)?getBubbleIconCounter(icon):""}}</div>
          <div class="text">{{icon.text}}</div>
          <mat-icon *ngIf="icon.type == 'imgIcon' || icon.type =='smallImgIcon'" 
            aria-hidden="false" 
            aria-label="Help" 
            [svgIcon]="icon.iconName"></mat-icon>
      </div>
    </ng-container>
  </div>
</div>
<div 
  class="treeItemInformation" 
  [ngStyle]="{
    'margin-left':((intent$ | async) * 21 + 21) +'px',
    'width':'calc(100% - ' + ((intent$ | async) * 22 + 26) +'px)'
  }"
  *ngIf="showInformationDiv$ | async "> 
  <app-concept-information 
    *ngIf="showSearchResult$ | async"
    [data]="searchResults$ | async" 
    [headingDirection]="'column'"
    [highlightTerm]="treeDataService.getSearchPattern()"
    [cellWidthPercentages]="[35,65]"></app-concept-information>
  <ng-container *ngFor="let conceptInformation of conceptInformation$ | async">
      <app-concept-information 
        [conceptInformation]="conceptInformation" 
        [hiddenHeading]="false"
        [collapsed]="false"></app-concept-information>
  </ng-container>
</div>
<app-tree-item-list *ngIf="expanded" [expanded]="expanded && cascade_expand" [cascade_expand]="cascade_expand" [conceptIri]="attributes.element.value"></app-tree-item-list>